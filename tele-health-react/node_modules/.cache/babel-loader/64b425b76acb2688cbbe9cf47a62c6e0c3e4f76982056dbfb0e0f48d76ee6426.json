{"ast":null,"code":"var _jsxFileName = \"D:\\\\tele-health\\\\tele-health-react\\\\src\\\\LoginForm.js\",\n  _s = $RefreshSig$();\nimport { useState, useContext } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { useNavigate, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { BASEURL } from './baseURL';\nimport { AppContext } from './App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginForm() {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const {\n    isDoctor,\n    setIsDoctor,\n    id,\n    setId,\n    loggedIn,\n    setLoggedIn\n  } = useContext(AppContext);\n  const navigate = useNavigate();\n  async function LoginUser() {\n    axios.post(BASEURL + \"/auth/jwt/create/\", {\n      username: username,\n      password: password\n    }).then(function (response) {\n      localStorage.setItem(\"access\", JSON.stringify(response.data[\"access\"]));\n      localStorage.setItem(\"refresh\", JSON.stringify(response.data[\"refresh\"]));\n      axios.get(BASEURL + \"/auth/users/me/\", {\n        headers: {\n          authorization: \"JWT \" + JSON.parse(localStorage.getItem(\"access\"))\n        }\n      }).then(function (response) {\n        console.log(response.data);\n        setLoggedIn(true);\n        setIsDoctor(response.data[\"isDoctor\"]);\n        setId(response.data[\"id\"]);\n        response.data[\"isDoctor\"] ? navigate(\"/home_page_doctor\") : navigate(\"/home_page_patient\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container d-flex justify-content-center align-items-center\",\n    style: {\n      height: '100vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      className: \"p-5 bg-light border rounded mx-auto col-lg-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mb-4 text-center\",\n        children: \"Login Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"LoginForm.username\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Username\",\n          required: true,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"LoginForm.password\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          placeholder: \"Password\",\n          required: true,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          className: \"btn btn-primary btn-block\",\n          type: \"submit\",\n          onClick: e => {\n            e.preventDefault();\n            LoginUser();\n          },\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"col-12 col-md-6 text-md-right\",\n          to: \"/register\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginForm, \"/dfBBMPWCF3tnObBcw6NdGd8dEo=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["useState","useContext","Form","Button","useNavigate","Link","axios","BASEURL","AppContext","jsxDEV","_jsxDEV","LoginForm","_s","username","setUsername","password","setPassword","isDoctor","setIsDoctor","id","setId","loggedIn","setLoggedIn","navigate","LoginUser","post","then","response","localStorage","setItem","JSON","stringify","data","get","headers","authorization","parse","getItem","console","log","catch","error","className","style","height","children","fileName","_jsxFileName","lineNumber","columnNumber","Group","controlId","Label","Control","type","placeholder","required","onChange","e","target","value","variant","onClick","preventDefault","to","_c","$RefreshReg$"],"sources":["D:/tele-health/tele-health-react/src/LoginForm.js"],"sourcesContent":["import { useState, useContext } from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { BASEURL } from './baseURL';\r\nimport { AppContext } from './App';\r\n\r\nfunction LoginForm(){\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const {isDoctor, setIsDoctor, id, setId, loggedIn, setLoggedIn} = useContext(AppContext);\r\n  \r\n\r\n  const navigate = useNavigate();\r\n\r\n\r\n  async function  LoginUser(){\r\n    axios.post(BASEURL + \"/auth/jwt/create/\",{\r\n      username: username,\r\n      password: password\r\n    }).then(function (response) {\r\n      localStorage.setItem(\"access\",JSON.stringify(response.data[\"access\"]));\r\n      localStorage.setItem(\"refresh\",JSON.stringify(response.data[\"refresh\"]));\r\n        axios.get(BASEURL + \"/auth/users/me/\",{\r\n          headers: {\r\n            authorization: \"JWT \"+ JSON.parse(localStorage.getItem(\"access\"))\r\n          }\r\n        }).then(function (response) {\r\n          console.log(response.data);\r\n          setLoggedIn(true);\r\n          setIsDoctor(response.data[\"isDoctor\"]);\r\n          setId((response.data[\"id\"]));\r\n          response.data[\"isDoctor\"] ? navigate(\"/home_page_doctor\") : navigate(\"/home_page_patient\");\r\n        }).catch(function (error) { \r\n          console.log(error);\r\n        });\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  return(\r\n    <div className=\"container d-flex justify-content-center align-items-center\" style={{height: '100vh'}}>\r\n    <Form className =\"p-5 bg-light border rounded mx-auto col-lg-6\">\r\n    <h2 className=\"mb-4 text-center\">Login Form</h2>\r\n\r\n    <Form.Group controlId=\"LoginForm.username\">\r\n      <Form.Label>Username</Form.Label>\r\n      <Form.Control\r\n          type= \"text\"\r\n          placeholder=\"Username\"\r\n          required\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n    </Form.Group>\r\n\r\n    <Form.Group controlId=\"LoginForm.password\">\r\n      <Form.Label>Password</Form.Label>\r\n      <Form.Control\r\n          type= \"password\"\r\n          placeholder=\"Password\"\r\n          required\r\n          onChange={(e) => setPassword(e.target.value)}\r\n      />\r\n    </Form.Group>\r\n    <div className=\"row\">\r\n     <div className=\"mt-3\" ></div>\r\n    <Button \r\n      variant=\"primary\" \r\n      className=\"btn btn-primary btn-block\" \r\n      type=\"submit\"\r\n      onClick={(e) => {\r\n        e.preventDefault(); \r\n        LoginUser();\r\n       }}>\r\n        Login\r\n    </Button>\r\n    <Link className=\"col-12 col-md-6 text-md-right\" to='/register'>\r\n        Register\r\n    </Link>\r\n    </div>\r\n    </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}