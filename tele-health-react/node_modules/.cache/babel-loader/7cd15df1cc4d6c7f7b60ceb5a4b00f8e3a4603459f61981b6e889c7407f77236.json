{"ast":null,"code":"import _regeneratorRuntime from\"D:/tele-health/tele-health-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/tele-health/tele-health-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useEffect,useState,useContext}from'react';import Button from'react-bootstrap/Button';import axios from'axios';import{BASEURL}from'./baseURL';import{Card}from'react-bootstrap';import{AppContext}from'./App';import{useNavigate,Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DoctorSlotList(_ref){var slotList=_ref.slotList,setSlotList=_ref.setSlotList;var _useContext=useContext(AppContext),isDoctor=_useContext.isDoctor,setIsDoctor=_useContext.setIsDoctor,doctorId=_useContext.doctorId,setSelectedPatient=_useContext.setSelectedPatient;var navigate=useNavigate();useEffect(function(){var callSlotList=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(BASEURL+\"/profile/book_slots_list/\".concat(doctorId));case 3:response=_context.sent;console.log(response.data);setSlotList(response.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function callSlotList(){return _ref2.apply(this,arguments);};}();callSlotList();},[doctorId]);return/*#__PURE__*/_jsx(\"ul\",{className:\"list-unstyled\",children:slotList.map(function(slot){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Card,{style:{width:'18rem'},children:[/*#__PURE__*/_jsx(Card.Title,{children:slot.patientProfile?slot.patientProfile.name:\"Not Booked\"}),/*#__PURE__*/_jsx(Card.Text,{children:slot.booking_date}),/*#__PURE__*/_jsx(Card.Text,{children:slot.start_time}),/*#__PURE__*/_jsx(Card.Text,{children:slot.end_time}),slot.patientProfile&&/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"mb-3\",type:\"button\",onClick:function onClick(e){e.preventDefault();setSelectedPatient(slot.patientProfile.id);navigate(\"/patient_detail\");},children:\"See Details\"}),slot.patientProfile&&/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"mb-3\",type:\"button\",onClick:function onClick(e){e.preventDefault();},children:\"Call\"})]})},slot.id);})});}export default DoctorSlotList;","map":{"version":3,"names":["useEffect","useState","useContext","Button","axios","BASEURL","Card","AppContext","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","DoctorSlotList","_ref","slotList","setSlotList","_useContext","isDoctor","setIsDoctor","doctorId","setSelectedPatient","navigate","callSlotList","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","sent","console","log","data","t0","error","stop","apply","arguments","className","children","map","slot","style","width","Title","patientProfile","name","Text","booking_date","start_time","end_time","variant","type","onClick","e","preventDefault","id"],"sources":["D:/tele-health/tele-health-react/src/DoctorSlotList.js"],"sourcesContent":["import { useEffect, useState, useContext } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport axios from 'axios';\r\nimport { BASEURL } from './baseURL';\r\nimport { Card } from 'react-bootstrap';\r\nimport { AppContext } from './App';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\n\r\n\r\n\r\nfunction DoctorSlotList( {slotList, setSlotList} ) {\r\n\r\n  const {isDoctor, setIsDoctor, doctorId, setSelectedPatient} = useContext(AppContext);\r\n  const navigate = useNavigate();\r\n  \r\n  useEffect(()=>{\r\n    const callSlotList = async() =>{\r\n      try{\r\n        const response = await axios.get(BASEURL + `/profile/book_slots_list/${doctorId}`);\r\n        console.log(response.data);\r\n        setSlotList(response.data);\r\n      }\r\n      catch(error){\r\n        console.error(error);\r\n      }}\r\n      callSlotList();\r\n  }, [doctorId]);\r\n\r\n  return (\r\n    <ul className=\"list-unstyled\">\r\n      {slotList.map((slot) =>(\r\n        <li key={slot.id}>\r\n          <Card style={{ width: '18rem' }}>\r\n          <Card.Title>{slot.patientProfile? slot.patientProfile.name : \"Not Booked\"}</Card.Title>\r\n          <Card.Text>{slot.booking_date}</Card.Text>\r\n          <Card.Text>{slot.start_time}</Card.Text>\r\n          <Card.Text>{slot.end_time}</Card.Text>\r\n          {slot.patientProfile &&\r\n            <Button\r\n            variant=\"primary\"\r\n            className=\"mb-3\" \r\n            type=\"button\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              setSelectedPatient(slot.patientProfile.id);\r\n              navigate(\"/patient_detail\");\r\n              }}>\r\n              See Details\r\n              </Button>\r\n            }\r\n            {slot.patientProfile &&\r\n              <Button\r\n              variant=\"primary\"\r\n              className=\"mb-3\" \r\n              type=\"button\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n              }}>\r\n                Call\r\n            </Button>\r\n            }\r\n            \r\n          \r\n          </Card>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default DoctorSlotList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}