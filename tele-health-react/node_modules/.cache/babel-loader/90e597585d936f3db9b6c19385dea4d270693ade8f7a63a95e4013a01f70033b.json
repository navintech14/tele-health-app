{"ast":null,"code":"import _slicedToArray from\"D:/tele-health/tele-health-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useContext}from'react';import Badge from'react-bootstrap/Badge';import Card from'react-bootstrap/Card';import axios from'axios';import Modal from'react-bootstrap/Modal';import{BASEURL}from'./baseURL';import{AppContext}from'./App';import{Button}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DoctorDetailsCard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),doctorDetail=_useState2[0],setDoctorDetail=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),slotList=_useState4[0],setSlotList=_useState4[1];var _useContext=useContext(AppContext),chosenDoctor=_useContext.chosenDoctor,patientId=_useContext.patientId;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};function bookSlot(key){axios.patch(BASEURL+\"/profile/book_slot_details/\".concat(key),{patientProfile:patientId}).then(function(response){console.log(response);}).catch(function(error){console.log(error);});}useEffect(function(){axios.get(BASEURL+\"/profile/doctor_profile_details/\".concat(chosenDoctor),{}).then(function(response){setDoctorDetail(response.data);axios.get(BASEURL+\"/profile/book_slots_list/\".concat(response.data[\"id\"]),{}).then(function(response){setSlotList(response.data);}).catch(function(error){console.log(error);});}).catch(function(error){console.log(error);});},[chosenDoctor]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Card,{style:{width:'18rem'},children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:doctorDetail.name}),/*#__PURE__*/_jsx(Badge,{bg:\"secondary\",children:doctorDetail.specialization}),/*#__PURE__*/_jsx(Card.Text,{children:doctorDetail.degrees}),/*#__PURE__*/_jsx(Card.Text,{children:\"\".concat(doctorDetail.experience,\" years of experience\")}),/*#__PURE__*/_jsx(Card.Text,{children:doctorDetail.city}),/*#__PURE__*/_jsx(Card.Text,{children:doctorDetail.address}),/*#__PURE__*/_jsx(Card.Text,{children:doctorDetail.about}),/*#__PURE__*/_jsx(Card.Text,{children:\"\\u20B9\".concat(doctorDetail.cost,\" consultation fee\")})]})}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-unstyled\",children:slotList.map(function(slot){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",className:\"mb-3\",type:\"button\",onClick:function onClick(e){e.preventDefault();bookSlot(slot.id);handleShow();},children:\"\".concat(slot.booking_date,\"\\n                 \").concat(slot.start_time)})},slot.id);})}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Yor Booking has been confirmed\"})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleClose,children:\"OK\"})})]})]});}export default DoctorDetailsCard;","map":{"version":3,"names":["useEffect","useState","useContext","Badge","Card","axios","Modal","BASEURL","AppContext","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DoctorDetailsCard","_useState","_useState2","_slicedToArray","doctorDetail","setDoctorDetail","_useState3","_useState4","slotList","setSlotList","_useContext","chosenDoctor","patientId","_useState5","_useState6","show","setShow","handleClose","handleShow","bookSlot","key","patch","concat","patientProfile","then","response","console","log","catch","error","get","data","children","style","width","Body","Title","name","bg","specialization","Text","degrees","experience","city","address","about","cost","className","map","slot","variant","type","onClick","e","preventDefault","id","booking_date","start_time","onHide","Header","closeButton","Footer"],"sources":["D:/tele-health/tele-health-react/src/DoctorDetailsCard.js"],"sourcesContent":["import { useEffect, useState, useContext } from 'react';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport Card from 'react-bootstrap/Card';\r\nimport axios from 'axios';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { BASEURL } from './baseURL'; \r\nimport { AppContext } from './App';\r\nimport { Button } from 'react-bootstrap';\r\n\r\n\r\nfunction DoctorDetailsCard() {\r\n\r\n    const [doctorDetail, setDoctorDetail] = useState([]);\r\n    const [slotList, setSlotList] = useState([]);\r\n    const {chosenDoctor, patientId} = useContext(AppContext);\r\n\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n\r\n    function bookSlot(key)\r\n    {\r\n      axios.patch(BASEURL+`/profile/book_slot_details/${key}`,{\r\n        patientProfile: patientId\r\n      }).then(function (response) {\r\n        console.log(response);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n    }\r\n\r\n\r\n    useEffect(()=>{\r\n        axios.get(BASEURL + `/profile/doctor_profile_details/${chosenDoctor}`,{\r\n        }).then(function (response) {\r\n            setDoctorDetail(response.data);\r\n            axios.get(BASEURL +`/profile/book_slots_list/${response.data[\"id\"]}`,{\r\n            }).then(function (response) {\r\n              setSlotList(response.data);\r\n            }).catch(function (error){\r\n              console.log(error);\r\n            })\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n    }, [chosenDoctor])\r\n\r\n\r\n  return (\r\n    <>\r\n    <Card style={{ width: '18rem' }}>\r\n        <Card.Body>\r\n            <Card.Title>{doctorDetail.name}</Card.Title>\r\n            <Badge bg=\"secondary\">{doctorDetail.specialization}</Badge>\r\n            <Card.Text>{doctorDetail.degrees}</Card.Text>\r\n            <Card.Text>{`${doctorDetail.experience} years of experience`}</Card.Text>\r\n            <Card.Text>{doctorDetail.city}</Card.Text>\r\n            <Card.Text>{doctorDetail.address}</Card.Text>\r\n            <Card.Text>{doctorDetail.about}</Card.Text>\r\n            <Card.Text>{`â‚¹${doctorDetail.cost} consultation fee`}</Card.Text>\r\n        </Card.Body>\r\n    </Card>\r\n\r\n    <ul className=\"list-unstyled\">\r\n        {slotList.map((slot) => (\r\n          <li key={slot.id}>\r\n            <Button\r\n              variant=\"primary\"\r\n              className=\"mb-3\" \r\n              type=\"button\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                bookSlot(slot.id);\r\n                handleShow();\r\n              }}>\r\n              {\r\n                `${slot.booking_date}\r\n                 ${slot.start_time}`\r\n              }\r\n            </Button>\r\n          </li>\r\n        ))}\r\n    </ul>\r\n\r\n    <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Yor Booking has been confirmed</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={handleClose}>\r\n            OK\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DoctorDetailsCard"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}